% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/recognizer.R
\name{OfflineRecognizer}
\alias{OfflineRecognizer}
\title{Offline Speech Recognizer}
\description{
R6 class for offline speech recognition using sherpa-onnx.
Supports multiple model architectures including Whisper, Paraformer,
SenseVoice, and Transducer models.
}
\examples{

## ------------------------------------------------
## Method `OfflineRecognizer$new`
## ------------------------------------------------

\dontrun{
# Create recognizer with shorthand
rec <- OfflineRecognizer$new(model = "whisper-tiny")

# Create recognizer with HuggingFace repo
rec <- OfflineRecognizer$new(
  model = "csukuangfj/sherpa-onnx-whisper-tiny.en"
)

# Create recognizer with local model
rec <- OfflineRecognizer$new(model = "/path/to/model")
}

## ------------------------------------------------
## Method `OfflineRecognizer$transcribe`
## ------------------------------------------------

\dontrun{
rec <- OfflineRecognizer$new(model = "whisper-tiny")
result <- rec$transcribe("audio.wav")
cat("Transcription:", result$text, "\n")
}

## ------------------------------------------------
## Method `OfflineRecognizer$transcribe_batch`
## ------------------------------------------------

\dontrun{
rec <- OfflineRecognizer$new(model = "whisper-tiny")
results <- rec$transcribe_batch(c("file1.wav", "file2.wav"))
for (i in seq_along(results)) {
  cat("File", i, ":", results[[i]]$text, "\n")
}
}

## ------------------------------------------------
## Method `OfflineRecognizer$model_info`
## ------------------------------------------------

\dontrun{
rec <- OfflineRecognizer$new(model = "whisper-tiny")
info <- rec$model_info()
print(info)
}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-OfflineRecognizer-new}{\code{OfflineRecognizer$new()}}
\item \href{#method-OfflineRecognizer-transcribe}{\code{OfflineRecognizer$transcribe()}}
\item \href{#method-OfflineRecognizer-transcribe_batch}{\code{OfflineRecognizer$transcribe_batch()}}
\item \href{#method-OfflineRecognizer-model_info}{\code{OfflineRecognizer$model_info()}}
\item \href{#method-OfflineRecognizer-finalize}{\code{OfflineRecognizer$finalize()}}
\item \href{#method-OfflineRecognizer-clone}{\code{OfflineRecognizer$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OfflineRecognizer-new"></a>}}
\if{latex}{\out{\hypertarget{method-OfflineRecognizer-new}{}}}
\subsection{Method \code{new()}}{
Create a new offline recognizer
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OfflineRecognizer$new(
  model = "parakeet-v3",
  language = "auto",
  num_threads = 1,
  provider = "cpu"
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model}}{Model specification. Can be:
- A shorthand string: "parakeet-v3", "whisper-tiny", "whisper-base", "sense-voice"
- A HuggingFace repository: "csukuangfj/sherpa-onnx-whisper-tiny.en"
- A local directory path containing model files}

\item{\code{language}}{Language code for multilingual models (default: "auto").
Used for Whisper and SenseVoice models.}

\item{\code{num_threads}}{Number of threads for inference (default: 1)}

\item{\code{provider}}{Execution provider: "cpu", "cuda", or "coreml" (default: "cpu")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new OfflineRecognizer object
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Create recognizer with shorthand
rec <- OfflineRecognizer$new(model = "whisper-tiny")

# Create recognizer with HuggingFace repo
rec <- OfflineRecognizer$new(
  model = "csukuangfj/sherpa-onnx-whisper-tiny.en"
)

# Create recognizer with local model
rec <- OfflineRecognizer$new(model = "/path/to/model")
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OfflineRecognizer-transcribe"></a>}}
\if{latex}{\out{\hypertarget{method-OfflineRecognizer-transcribe}{}}}
\subsection{Method \code{transcribe()}}{
Transcribe a WAV file
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OfflineRecognizer$transcribe(wav_path)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{wav_path}}{Path to WAV file (must be 16kHz, 16-bit, mono)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List with transcription results containing:
  - text: Transcribed text
  - tokens: Character vector of tokens
  - timestamps: Numeric vector of timestamps (if supported by model)
  - language: Detected language (if supported by model)
  - emotion: Detected emotion (if supported by model)
  - json: Full result as JSON string
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
rec <- OfflineRecognizer$new(model = "whisper-tiny")
result <- rec$transcribe("audio.wav")
cat("Transcription:", result$text, "\n")
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OfflineRecognizer-transcribe_batch"></a>}}
\if{latex}{\out{\hypertarget{method-OfflineRecognizer-transcribe_batch}{}}}
\subsection{Method \code{transcribe_batch()}}{
Transcribe multiple WAV files in batch
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OfflineRecognizer$transcribe_batch(wav_paths)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{wav_paths}}{Character vector of WAV file paths}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List of transcription results, one for each input file
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
rec <- OfflineRecognizer$new(model = "whisper-tiny")
results <- rec$transcribe_batch(c("file1.wav", "file2.wav"))
for (i in seq_along(results)) {
  cat("File", i, ":", results[[i]]$text, "\n")
}
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OfflineRecognizer-model_info"></a>}}
\if{latex}{\out{\hypertarget{method-OfflineRecognizer-model_info}{}}}
\subsection{Method \code{model_info()}}{
Get model information
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OfflineRecognizer$model_info()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
List with model metadata including:
  - type: "local" or "huggingface"
  - path: Local path to model files
  - model_type: Type of model (whisper, paraformer, sense-voice, transducer)
  - repo: HuggingFace repository (if applicable)
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
rec <- OfflineRecognizer$new(model = "whisper-tiny")
info <- rec$model_info()
print(info)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OfflineRecognizer-finalize"></a>}}
\if{latex}{\out{\hypertarget{method-OfflineRecognizer-finalize}{}}}
\subsection{Method \code{finalize()}}{
Cleanup resources (called automatically on garbage collection)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OfflineRecognizer$finalize()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OfflineRecognizer-clone"></a>}}
\if{latex}{\out{\hypertarget{method-OfflineRecognizer-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OfflineRecognizer$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
